{"ast":null,"code":"import React from\"react\";import{Grid,IconButton,Typography,Card,LinearProgress,CardMedia,Box}from\"@mui/material\";import PlayArrowIcon from\"@mui/icons-material/PlayArrow\";import PauseIcon from\"@mui/icons-material/Pause\";import SkipNextIcon from\"@mui/icons-material/SkipNext\";import SkipPreviousIcon from\"@mui/icons-material/SkipPrevious\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MusicPlayer=_ref=>{let{title=\"Unknown Title\",artist=\"Unknown Artist\",image_url=\"\",is_playing=false,time=0,duration=1,votes=0,votes_required=0}=_ref;const handleFetch=async(url,method)=>{try{await fetch(url,{method,headers:{\"Content-Type\":\"application/json\"}});}catch(error){console.error(`Failed to ${method} ${url}:`,error);}};const skipSong=()=>handleFetch(\"/spotify/skip\",\"POST\");const pauseSong=()=>handleFetch(\"/spotify/pause\",\"PUT\");const playSong=()=>handleFetch(\"/spotify/play\",\"PUT\");const songProgress=Math.min(time/duration*100,100);return/*#__PURE__*/_jsx(Card,{sx:{maxWidth:600,mx:\"auto\",p:3,borderRadius:3,boxShadow:3},children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,justifyContent:\"center\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,display:\"flex\",justifyContent:\"center\",children:/*#__PURE__*/_jsx(CardMedia,{component:\"img\",sx:{width:150,height:150,borderRadius:2},image:image_url||\"https://via.placeholder.com/150\",alt:`${title} album cover`})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:8,children:/*#__PURE__*/_jsxs(Box,{textAlign:\"center\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",noWrap:true,children:title}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",color:\"text.secondary\",noWrap:true,children:artist}),\"3\",/*#__PURE__*/_jsxs(Box,{mt:2,display:\"flex\",justifyContent:\"center\",alignItems:\"center\",gap:2,children:[/*#__PURE__*/_jsx(IconButton,{onClick:skipSong,\"aria-label\":\"Previous\",children:/*#__PURE__*/_jsx(SkipPreviousIcon,{fontSize:\"large\"})}),/*#__PURE__*/_jsx(IconButton,{onClick:is_playing?pauseSong:playSong,\"aria-label\":is_playing?\"Pause\":\"Play\",children:is_playing?/*#__PURE__*/_jsx(PauseIcon,{fontSize:\"large\"}):/*#__PURE__*/_jsx(PlayArrowIcon,{fontSize:\"large\"})}),/*#__PURE__*/_jsx(IconButton,{onClick:skipSong,\"aria-label\":\"Next\",children:/*#__PURE__*/_jsx(SkipNextIcon,{fontSize:\"large\"})})]}),/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",display:\"block\",mt:1,children:[\"Votes to Skip: \",votes,\" / \",votes_required]}),/*#__PURE__*/_jsx(LinearProgress,{variant:\"determinate\",value:songProgress,sx:{mt:2,height:10,borderRadius:5}})]})})]})});};export default MusicPlayer;","map":{"version":3,"names":["React","Grid","IconButton","Typography","Card","LinearProgress","CardMedia","Box","PlayArrowIcon","PauseIcon","SkipNextIcon","SkipPreviousIcon","jsx","_jsx","jsxs","_jsxs","MusicPlayer","_ref","title","artist","image_url","is_playing","time","duration","votes","votes_required","handleFetch","url","method","fetch","headers","error","console","skipSong","pauseSong","playSong","songProgress","Math","min","sx","maxWidth","mx","p","borderRadius","boxShadow","children","container","spacing","justifyContent","alignItems","item","xs","md","display","component","width","height","image","alt","textAlign","variant","noWrap","color","mt","gap","onClick","fontSize","value"],"sources":["/home/rishabh/Desktop/Projects/React_django/Wavelet/frontend/src/components/MusicPlayer.js"],"sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  Grid,\n  IconButton,\n  Typography,\n  Card,\n  LinearProgress,\n  CardMedia,\n  Box,\n} from \"@mui/material\";\nimport PlayArrowIcon from \"@mui/icons-material/PlayArrow\";\nimport PauseIcon from \"@mui/icons-material/Pause\";\nimport SkipNextIcon from \"@mui/icons-material/SkipNext\";\nimport SkipPreviousIcon from \"@mui/icons-material/SkipPrevious\";\n\nconst MusicPlayer = ({\n  title = \"Unknown Title\",\n  artist = \"Unknown Artist\",\n  image_url = \"\",\n  is_playing = false,\n  time = 0,\n  duration = 1,\n  votes = 0,\n  votes_required = 0,\n}) => {\n  const handleFetch = async (url, method) => {\n    try {\n      await fetch(url, {\n        method,\n        headers: { \"Content-Type\": \"application/json\" },\n      });\n    } catch (error) {\n      console.error(`Failed to ${method} ${url}:`, error);\n    }\n  };\n\n  const skipSong = () => handleFetch(\"/spotify/skip\", \"POST\");\n  const pauseSong = () => handleFetch(\"/spotify/pause\", \"PUT\");\n  const playSong = () => handleFetch(\"/spotify/play\", \"PUT\");\n\n  const songProgress = Math.min((time / duration) * 100, 100);\n\n  return (\n    <Card sx={{ maxWidth: 600, mx: \"auto\", p: 3, borderRadius: 3, boxShadow: 3 }}>\n      <Grid container spacing={3} justifyContent=\"center\" alignItems=\"center\">\n        <Grid item xs={12} md={4} display=\"flex\" justifyContent=\"center\">\n          <CardMedia\n            component=\"img\"\n            sx={{ width: 150, height: 150, borderRadius: 2 }}\n            image={image_url || \"https://via.placeholder.com/150\"}\n            alt={`${title} album cover`}\n          />\n        </Grid>\n\n        <Grid item xs={12} md={8}>\n          <Box textAlign=\"center\">\n            <Typography variant=\"h5\" noWrap>{title}</Typography>\n            <Typography variant=\"subtitle1\" color=\"text.secondary\" noWrap>\n              {artist}\n            </Typography>3\n\n            <Box mt={2} display=\"flex\" justifyContent=\"center\" alignItems=\"center\" gap={2}>\n              <IconButton onClick={skipSong} aria-label=\"Previous\">\n                <SkipPreviousIcon fontSize=\"large\" />\n              </IconButton>\n              <IconButton\n                onClick={is_playing ? pauseSong : playSong}\n                aria-label={is_playing ? \"Pause\" : \"Play\"}\n              >\n                {is_playing ? (\n                  <PauseIcon fontSize=\"large\" />\n                ) : (\n                  <PlayArrowIcon fontSize=\"large\" />\n                )}\n              </IconButton>\n              <IconButton onClick={skipSong} aria-label=\"Next\">\n                <SkipNextIcon fontSize=\"large\" />\n              </IconButton>\n            </Box>\n\n            <Typography variant=\"caption\" display=\"block\" mt={1}>\n              Votes to Skip: {votes} / {votes_required}\n            </Typography>\n\n            <LinearProgress\n              variant=\"determinate\"\n              value={songProgress}\n              sx={{ mt: 2, height: 10, borderRadius: 5 }}\n            />\n          </Box>\n        </Grid>\n      </Grid>\n    </Card>\n  );\n};\n\nMusicPlayer.propTypes = {\n  title: PropTypes.string,\n  artist: PropTypes.string,\n  image_url: PropTypes.string,\n  is_playing: PropTypes.bool,\n  time: PropTypes.number,\n  duration: PropTypes.number,\n  votes: PropTypes.number,\n  votes_required: PropTypes.number,\n};\n\nexport default MusicPlayer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}